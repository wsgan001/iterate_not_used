
2e5小白安装过程中的问题

本节主要介绍初学者在安装Linux过程中的一些常见问题，如Windows系统是否能够和 Linux系统并存，如何安装多个Linux发行版等。    ,

2.5.1    Linux分区会覆盖原有Windows系统吗

如在已安装Window系统的计算机中安装Linux和Windows双系统引导，安装完Windows 后，需要在硬盘上预留一定的空间安装Linux,安装过程中Linux的安装程序会检测已有的 Windows分区，安装后的Linux和Windows分别使用了硬盘中不同分区，安装的Linux系统 并不会覆盖已安装的Windows系统。

2.5.2如何安装多个Linux发行版

(1)    采用虚拟机安装的方式可以安装多个Linux系统。可以创建多个虚拟机，虚拟机创 建完毕后采用2.2.2节介绍的安装方法安装Linux系统。

(2)    在同一 PC上安装多个Linux操作系统，首先要为安装的每个Linux系统预留硬盘 空间，并且在每个Linux的安装过程中采用手动分区模式做好分区设置。如图2.38所示，单 击“创建自定义布局”，然后依次创建Linux所需的根分区和Swap分区，如有需要，可以创 建其他挂载点，分区设置如图2.39所示，图中剩余的空间可以预留给其他要安装的操作系统， 分区创建完毕即可进行Linux的安装。

图2.38 Linux分区选择方式

| 设奋        | 大小拯載点/ -uanj Mr-4-<MB) RAIDfl*    .格式 |         |
| ----------- | -------------------------------------------- | ------- |
| ▽硬盘驱动榭 |                                              |         |
| ▽ sda       |                                              |         |
| sdal        | 4000 I                                       | ext4 ■/ |
| sda2        | 1000                                         | swap Y  |
| 空闲        | 15479                                        |         |

图2.39 Linux分区参考值

2.5.3如何删除双系统中的Linux

如果系统中只安装有Linux，可以采用分区管理工具(如PartitionMagic)把Linux的分区 全部删除=也可以利用Windows的引导光盘进入纯DOS或Win PE模式，然后进入命令提示 窗口，执行“fdisk/mbr”清除分区信息。

如果计算机中Windows和Linux并存，可直接进入Windows系统操作，删除步骤如下:

步鼷



Lot



歩骤



在桌面上右击【我的电脑】图标，在弹出的菜单中选择“管理”命令，进入计算机 管理界面。

单击【磁盘管理】菜单，如图2.40所示，如有Linux分区，选择分区后删除即可。



| 曳文件⑧iwt（A）査看®口如帮助on;-了商8窗SWW |                |
| ------------------------------------------ | -------------- |
| 十篡机官s体地）                            | 卷    r        |
| e弧系妖工具                                | s» «:)         |
| 亊件眘卷器                                 | ㉔a)           |
| «    共莩文件夹                            | ^CD175A1 0 )   |
| !±! ®本地用尸和组                          | ODOVHIOAD CD ) |
| ® @性能日志和警报                          | ^OFFICE 12 «:) |
| 恚设备首理器                               | @cod* 2d (F:)  |
| B自存                                      |                |
| 磁盘碎片整理程序 孬艦管理                  | so£t_2* &:)    |
| a    服务和应用程序                        |                |

图2.40 Windows磁盘管理

如果是使用虚拟机安装的Linux,删除步骤如下：

^1;启动VMware,单击安装的虚拟机。

单击菜单【VM】-所示。

【Manager】一＞【Delete from Disk】进行虚拟机的删除，如图2.41



![img](11 CentOS7fbdfa1060ed0f49e18-42.jpg)



![img](11 CentOS7fbdfa1060ed0f49e18-43.jpg)



图2.41 使用VM菜单

以上两步完成后虚拟机中安装的Linux即删除完毕。

2.5.4主机连不上虚拟机安装的Linux系统

使用虚拟机安装完Linux系统后，如果采用SecureCRT不能登录安装的Linux,可以从以 下几个方面排查。

(1)检查安装的Linux服务器sshd服务是否启动，如下所示：

\1.    #检査sshd服务是否启动    ，

[root@CentOS # ps ~efIgrep sshd

root 1147    1    0 10:58 ?    00:00:00 /usr/sbin/sshd

\2.    #检查端口是否正常

[root@CentOS H# telnet 192.168.19.101 22

Trying 192.168.19.101...

Connected to 192.168.19.101. Escape character is 'A]*. SSH-2.0-OpenSSH_5.3

test

Protocol mismatch.

Connection closed by foreign host

\3.    #清除防火墙

(rootdCentOS 〜]# iptables -F

(2)选择合适的虚拟机网络连接方式

经过上面代码中的3步，确认服务器sshd服务正常，服务器防火墙没有开启，如果还是 不能连接，可检查虚拟机网络配置，单击桌面上的虚拟机图标，单击【VM】一【Setting】菜 单，结果如图2.42所示。

Hardware | options |

| Device               | Surwnary    ‘1:                   |
| -------------------- | --------------------------------- |
| HI Memory            | 512 MB                            |
| O Processors         | 1                                 |
| iSHard Di汝(SCSI)    | 20 GB                             |
| 3 Hard Disk (IDE)    | 10®                               |
| ^^CD/DVD (SCSI)      | Us>ng file G: VQQDownload^entO... |
| i4f>CD/DVD (IDE)     | Using ffle G: V^Downtoad^CentO... |
| 0 Floppy             | Autodetect                        |
| liO'letwofi' Adapter | NAT    'tr-'                      |
| USB Controller       | Present                           |
| Sound Card           | Auto detect    -                  |
| SPrriter             | Present                           |
| 戀 Dismay            | Auto detect                       |

Device status ----

f? Connected P Connect at power on

■ Wetwori( connectiw,    - - ■

广 Ridged: Connected {fe-ectfy to 也e phyacat network

:爹儀讓圖瞻醸灣靡，議輯醺醸■鎖，:人'

(• HAT； Used to share the hosfsP address 广 fckwt-orty: A private network ^ared with the host

C Custom: Specific virtuaJ network

Add... | BemoveJ



'C segment



![img](11 CentOS7fbdfa1060ed0f49e18-45.jpg)



图2.42虚拟机网络配置

虚拟机与宿主主机通信有3种方式，别为：

•    Bridged模式：在桥接模式下，VMware虚招出来的操作系统就类似局域网中的一独 立主机，可以访问网络内任何一台机器。如选择此种模式，需要手工为虚拟系统配置 IP地址、子网掩码，并且和宿主机器处于同一网段，这样虚拟系统才能和宿主机器 进行通信。此时需要设置Linux和宿主主机同网段IP即可。

•    NAT网络地址转换模式：使用NAT模式使虚拟系统借助NAT功能，通过宿主机器 所在的网络来访问互联网。此时Linux的IP地址和VMnet8虚拟网络处于同一网段。

•    Host-only主机模式：在Host-only模式中，所有的盧拟系统可以相互通信，但虚拟系

统和真实的网络是被隔离开的。虚拟系统的TCP/IP配置信息（如IP地址、网关地址、 DNS服务器等）由VMnetl（Host-only）虚拟网络的DHCP服务器来动态分配。
